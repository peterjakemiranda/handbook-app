"use strict";(self["webpackChunkhandbook_app"]=self["webpackChunkhandbook_app"]||[]).push([[748],{6523:(e,t,s)=>{s.d(t,{Z:()=>Q});var a=s(5474);const c=(e,{data:t})=>{e(t)},n=(e,t)=>{t(e)},o=e=>new Promise(((t,s)=>{a.axios.request({url:"/sections",data:e,method:"post"}).then((e=>{c(t,e)})).catch((e=>{n(e.response.data,s)}))})),i=(e,t)=>{t(e)},r=(e,t)=>{t(e)},l=(e,t)=>new Promise(((s,c)=>{a.axios.request({url:`/sections/${e}`,data:t,method:"put"}).then((e=>{i(e.data,s)})).catch((e=>{r(e.response.data,c)}))}));var h=s(8427),d=s(5314),p=s(3305);const u=({data:e},t,s)=>{const a=e,c=d.Z.fetch(e.pagination);h["default"].dispatch("fetchSections",{sections:a,pagination:c}),s({sections:a,pagination:c})},m=(e,t)=>t(e),g=(e={})=>new Promise(((t,s)=>{a.axios.get(p.Z.buildUrl("/sections",e)).then((s=>{u(s,e,t)})).catch((e=>{m(e,s)}))})),w=({data:e},t)=>{h["default"].dispatch("fetchAllSections",e),t(e)},b=(e,t)=>t(e),f=(e=null)=>new Promise(((t,s)=>{a.axios.get(null===e?"/sections":`/sections?chapter_id=${e}`).then((e=>{w(e,t)})).catch((e=>{b(e,s)}))})),x=(e,t)=>{t(e)},k=(e,t)=>{t(e)},q=e=>new Promise(((t,s)=>{a.axios.get(`/sections/${e}`).then((e=>{x(e.data,t)})).catch((e=>{k(e.response.data,s)}))})),y=({data:e},t)=>{h["default"].dispatch("fetchSearchResults",e),t(e)},_=(e,t)=>t(e),S=(e="")=>new Promise(((t,s)=>{a.axios.get(`/sections?search=${e}`).then((e=>{y(e,t)})).catch((e=>{_(e,s)}))})),T=(e,t,s)=>{f(s),t(e)},Z=(e,t)=>{t(e)},$=(e,t)=>new Promise(((s,c)=>{a.axios["delete"](`/sections/${e}`).then((e=>{T(e.data,s,t)})).catch((e=>{Z(e.response.data,c)}))})),Q={store:o,update:l,items:g,all:f,show:q,search:S,destroy:$}},6193:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Q});var a=s(3673),c=s(2323);const n={class:"q-pa-md"},o={class:"q-pt-lg"},i=(0,a.Uk)(" Search the entire handbook "),r={key:0,class:"text-center"},l={key:2,class:"text-body2 text-center q-pa-lg text-grey-6"};function h(e,t,s,h,d,p){const u=(0,a.up)("q-breadcrumbs-el"),m=(0,a.up)("q-breadcrumbs"),g=(0,a.up)("q-page-sticky"),w=(0,a.up)("q-icon"),b=(0,a.up)("q-input"),f=(0,a.up)("q-spinner-bars"),x=(0,a.up)("q-item-label"),k=(0,a.up)("q-item-section"),q=(0,a.up)("q-item"),y=(0,a.up)("q-list");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(g,{expand:"",position:"top-left",class:"full-width",style:{"z-index":"1"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{class:"text-grey bg-white full-width q-px-lg q-py-sm text-body1"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{to:"/",icon:"menu_book",label:"My Handbook"}),(0,a.Wm)(u,{icon:"local_library",label:"Search"})])),_:1})])),_:1}),(0,a._)("div",o,[(0,a.Wm)(b,{"bottom-slots":"",filled:"",debounce:"800",modelValue:e.searchText,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchText=t),ref:"searchInput",dense:"",class:"q-pa-sm q-mb-lg"},{append:(0,a.w5)((()=>[""!==e.searchText?((0,a.wg)(),(0,a.j4)(w,{key:0,name:"close",onClick:e.clearSearch,class:"cursor-pointer"},null,8,["onClick"])):(0,a.kq)("",!0),(0,a.Wm)(w,{name:"search"})])),hint:(0,a.w5)((()=>[i])),_:1},8,["modelValue"]),e.loading?((0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(f,{color:"primary",size:"2em"})])):e.sections.length?((0,a.wg)(),(0,a.j4)(y,{key:1,class:"q-pa-xs",separator:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.sections,(t=>((0,a.wg)(),(0,a.j4)(q,{to:`/article/${t.chapter_id}#section-${t.id}`,key:t.id},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{to:""},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{class:"text-subtitle1"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,c.zw)(e.titleCase(t.title)),1)])),_:2},1024),(0,a.Wm)(x,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,c.zw)(e.stripTags(t.content)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["to"])))),128))])),_:1})):((0,a.wg)(),(0,a.iD)("div",l," No Results "))])])}var d=s(515),p=s.n(d),u=(s(7280),s(5363),s(7874)),m=s(6523);const g=(0,a.aZ)({name:"Search",data(){return{loading:!1}},computed:p()(p()({},(0,u.Se)({sections:"searchResults"})),{},{searchText:{get(){return this.$store.state.section.searchText},set(e){this.$store.commit("SET_SEARCH_TEXT",e)}}}),mounted(){this.$refs.searchInput.focus(),this.searchText||this.$store.dispatch("resetSections")},methods:{titleCase(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).join(" ")},stripTags(e){return e.replace(/<\/?[^>]+(>|$)/g,"").replace(/\&nbsp;/g,"")},clearSearch(){this.searchText="",this.$refs.searchInput.focus()}},watch:{searchText(){this.searchText?(this.loading=!0,m.Z.search(this.searchText).then((e=>{this.loading=!1})).catch((e=>{this.loading=!1}))):this.$store.dispatch("resetSections")}}});var w=s(1007),b=s(1481),f=s(5926),x=s(4842),k=s(4554),q=s(4752),y=s(7011),_=s(3414),S=s(2035),T=s(2350),Z=s(7518),$=s.n(Z);g.render=h;const Q=g;$()(g,"components",{QPageSticky:w.Z,QBreadcrumbs:b.Z,QBreadcrumbsEl:f.Z,QInput:x.Z,QIcon:k.Z,QSpinnerBars:q.Z,QList:y.Z,QItem:_.Z,QItemSection:S.Z,QItemLabel:T.Z})}}]);