"use strict";(self["webpackChunkhandbook_app"]=self["webpackChunkhandbook_app"]||[]).push([[125],{7125:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var s=a(3673);const l={class:"q-pa-md"},n={class:"q-pa-md",style:{"max-width":"400px"}},d=(0,s._)("h5",{class:"text-h5 text-bold q-my-md q-pb-lg"},"My Account",-1),o={class:"text-center q-px-lg"};function u(e,t,a,u,i,m){const r=(0,s.up)("q-input"),c=(0,s.up)("q-btn"),p=(0,s.up)("q-form");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",n,[d,(0,s.Wm)(p,{onSubmit:e.onSubmit,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{filled:"",modelValue:e.student_id,"onUpdate:modelValue":t[0]||(t[0]=t=>e.student_id=t),label:"Student ID"},null,8,["modelValue"]),(0,s.Wm)(r,{filled:"",modelValue:e.first_name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.first_name=t),label:"First name *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,s.Wm)(r,{filled:"",modelValue:e.last_name,"onUpdate:modelValue":t[2]||(t[2]=t=>e.last_name=t),label:"Last name *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,s.Wm)(r,{filled:"",modelValue:e.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.password=t),label:"Password"},null,8,["modelValue"]),(0,s.Wm)(r,{filled:"",modelValue:e.password_confirmation,"onUpdate:modelValue":t[4]||(t[4]=t=>e.password_confirmation=t),label:"Confirm Password","lazy-rules":"",rules:[t=>t===e.password||"Password does not matched"]},null,8,["modelValue","rules"]),(0,s._)("div",o,[(0,s.Wm)(c,{label:"Update Account",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"])])])}var i=a(515),m=a.n(i),r=a(7874),c=(a(8427),a(5395));const p=(0,s.aZ)({name:"Account",data(){return{student_id:"",first_name:"",last_name:"",password:"",password_confirmation:""}},computed:m()({},(0,r.Se)({account:"account"})),mounted(){this.account||c.Z.find().then((()=>{}))},methods:{onSubmit(){c.Z.update({student_id:this.student_id,first_name:this.first_name,last_name:this.last_name,password:this.password,password_confirmation:this.password_confirmation},this.account.id).then((()=>{this.$q.dialog({title:"Success!",message:"Account has been successfully updated"}),this.loading=!1})).catch((e=>{this.$q.dialog({title:"Error!",message:"Failed to update account! Please try again later."}),this.loading=!1}))}},watch:{account:{immediate:!0,handler(e){e&&(this.student_id=e.student_id,this.first_name=e.first_name,this.last_name=e.last_name)}}}});var h=a(5269),_=a(4842),f=a(2165),w=a(7518),b=a.n(w);p.render=u;const g=p;b()(p,"components",{QForm:h.Z,QInput:_.Z,QBtn:f.Z})}}]);