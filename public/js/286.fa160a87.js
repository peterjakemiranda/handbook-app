"use strict";(self["webpackChunkhandbook_app"]=self["webpackChunkhandbook_app"]||[]).push([[286],{6952:(a,e,t)=>{t.d(e,{Z:()=>k});var o=t(5474);const s=(a,e)=>{e(a)},l=(a,e)=>{e(a)},n=(a,e)=>new Promise(((t,n)=>{o.axios.post(`/bookmarks/${a}`,{bookmark:e}).then((a=>{s(a.data,t)})).catch((a=>{l(a.response.data,n)}))}));var i=t(8427);const r=({data:a},e)=>{i["default"].dispatch("fetchAllBookmarks",a),e(a)},d=(a,e)=>e(a),c=()=>new Promise(((a,e)=>{o.axios.get("/bookmarks").then((e=>{r(e,a)})).catch((a=>{d(a,e)}))})),m=(a,e)=>{c(),e(a)},p=(a,e)=>{e(a)},h=a=>new Promise(((e,t)=>{o.axios["delete"](`/bookmarks/${a}`).then((a=>{m(a.data,e)})).catch((a=>{p(a.response.data,t)}))})),k={all:c,bookmark:n,destroy:h}},3649:(a,e,t)=>{t.d(e,{Z:()=>P});var o=t(5474);const s=(a,{data:e})=>{a(e)},l=(a,e)=>{e(a)},n=a=>new Promise(((e,t)=>{o.axios.request({url:"/chapters",data:a,method:"post"}).then((a=>{s(e,a)})).catch((a=>{l(a.response.data,t)}))})),i=(a,e)=>{e(a)},r=(a,e)=>{e(a)},d=(a,e)=>new Promise(((t,s)=>{o.axios.request({url:`/chapters/${a}`,data:e,method:"put"}).then((a=>{i(a.data,t)})).catch((a=>{r(a.response.data,s)}))}));var c=t(8427),m=t(5314),p=t(3305);const h=({data:a},e,t)=>{const o=a,s=m.Z.fetch(a.pagination);c["default"].dispatch("fetchChapters",{chapters:o,pagination:s}),t({chapters:o,pagination:s})},k=(a,e)=>e(a),u=(a={})=>new Promise(((e,t)=>{o.axios.get(p.Z.buildUrl("/chapters",a)).then((t=>{h(t,a,e)})).catch((a=>{k(a,t)}))})),b=({data:a},e)=>{c["default"].dispatch("fetchAllChapters",a),e(a)},w=(a,e)=>e(a),g=(a=null)=>new Promise(((e,t)=>{o.axios.get(null===a?"/chapters":`/chapters?search=${a}`).then((a=>{b(a,e)})).catch((a=>{w(a,t)}))})),f=(a,e)=>{e(a)},y=(a,e)=>{e(a)},x=a=>new Promise(((e,t)=>{o.axios.get(`/chapters/${a}`).then((a=>{f(a.data,e)})).catch((a=>{y(a.response.data,t)}))})),q=(a,e)=>{g(),e(a)},_=(a,e)=>{e(a)},W=a=>new Promise(((e,t)=>{o.axios["delete"](`/chapters/${a}`).then((a=>{q(a.data,e)})).catch((a=>{_(a.response.data,t)}))})),Z=(a,e)=>{e(a)},v=(a,e)=>{e(a)},C=a=>new Promise(((e,t)=>{o.axios.post(`/chapters/${a}/answer`).then((a=>{Z(a.data,e)})).catch((a=>{v(a.response.data,t)}))})),P={store:n,update:d,items:u,all:g,show:x,destroy:W,answer:C}},1286:(a,e,t)=>{t.r(e),t.d(e,{default:()=>B});t(246);var o=t(3673),s=t(2323),l=t(8880);const n={key:0,class:"text-center q-pt-xl"},i={key:1},r={key:0,class:"text-center q-pt-xl"},d={key:1},c={key:1,class:"text-body2 text-center q-pa-lg text-grey-6"};function m(a,e,t,m,p,h){const k=(0,o.up)("q-tab"),u=(0,o.up)("q-tabs"),b=(0,o.up)("q-page-sticky"),w=(0,o.up)("q-separator"),g=(0,o.up)("q-spinner-bars"),f=(0,o.up)("q-item-label"),y=(0,o.up)("q-item-section"),x=(0,o.up)("q-icon"),q=(0,o.up)("q-item"),_=(0,o.up)("q-list"),W=(0,o.up)("q-tab-panel"),Z=(0,o.up)("q-btn"),v=(0,o.up)("q-tab-panels");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(b,{expand:"",position:"top",style:{"z-index":"1"}},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:a.tab,"onUpdate:modelValue":e[0]||(e[0]=e=>a.tab=e),"narrow-indicator":"","active-color":"blue-8",class:"bg-grey-1 full-width"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{name:"myhandbook",label:"My Handbook",icon:"menu_book"}),(0,o.Wm)(k,{name:"bookmarks",label:"My Bookmarks",icon:"star"})])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(w),(0,o.Wm)(v,{modelValue:a.tab,"onUpdate:modelValue":e[1]||(e[1]=e=>a.tab=e),animated:"","virtual-scroll":"",style:{"padding-top":"68px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(W,{name:"myhandbook",class:"q-pa-xs"},{default:(0,o.w5)((()=>[a.handbookLoading?((0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(g,{color:"primary",size:"2em"})])):((0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(_,{class:"q-pa-sm",separator:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.chapters,(e=>((0,o.wg)(),(0,o.j4)(q,{to:`/article/${e.id}`,key:e.id},{default:(0,o.w5)((()=>[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{class:"text-weight-bold text-subtitle1"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.title),1)])),_:2},1024),(0,o.Wm)(f,{caption:"",lines:"2"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(a.titleCase(e.description)),1)])),_:2},1024)])),_:2},1024),(0,o.Wm)(y,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{name:"local_library"})])),_:1})])),_:2},1032,["to"])))),128))])),_:1})]))])),_:1}),(0,o.Wm)(W,{name:"bookmarks",class:"q-pa-xs"},{default:(0,o.w5)((()=>[a.bookmarkLoading?((0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(g,{color:"primary",size:"2em"})])):((0,o.wg)(),(0,o.iD)("div",d,[a.bookmarks.length?((0,o.wg)(),(0,o.j4)(_,{key:0,class:"q-pa-sm",separator:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.bookmarks,(e=>((0,o.wg)(),(0,o.j4)(q,{clickable:"",onClick:(0,l.iM)((t=>a.viewArticle(e)),["prevent"]),key:e.id},{default:(0,o.w5)((()=>[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{class:"text-subtitle1"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{name:"star",color:"yellow-9",class:"q-pa-xs"}),(0,o._)("span",null,(0,s.zw)(a.titleCase(e.title)),1)])),_:2},1024)])),_:2},1024),(0,o.Wm)(y,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,{flat:"",icon:"delete",clickable:"",onClick:(0,l.iM)((t=>a.deleteBookmark(e.id)),["stop"])},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):((0,o.wg)(),(0,o.iD)("div",c," No bookmarks yet. "))]))])),_:1})])),_:1},8,["modelValue"])])}var p=t(515),h=t.n(p),k=(t(7280),t(7874)),u=t(3649),b=t(6952);t(2130);const w=(0,o.aZ)({name:"PageIndex",data(){return{tab:"myhandbook",handbookLoading:!1,bookmarkLoading:!1}},computed:h()({},(0,k.Se)({chapters:"allChapters",bookmarks:"allBookmarks"})),mounted(){this.handbookLoading=!0,u.Z.all().then((a=>{this.handbookLoading=!1})).catch((a=>{this.handbookLoading=!1}))},methods:{titleCase(a){return a.split(" ").map((function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})).join(" ")},viewArticle(a){console.log(a),this.$router.push(`/article/${a.chapter_id}#section-${a.section_id}`)},deleteBookmark(a){this.$q.dialog({title:"Confirm",message:"Are you sure to delete this bookmark?",cancel:!0,persistent:!0}).onOk((()=>{b.Z.destroy(a).then((a=>{this.loading=!1})).catch((a=>{this.loading=!1}))}))}},watch:{tab(a){"bookmarks"===a&&(this.bookmarkLoading=!0,b.Z.all().then((a=>{this.bookmarkLoading=!1})).catch((a=>{this.bookmarkLoading=!1})))}}});var g=t(1007),f=t(7547),y=t(3269),x=t(5869),q=t(5906),_=t(6602),W=t(4752),Z=t(7011),v=t(3414),C=t(2035),P=t(2350),L=t(4554),Q=t(2165),$=t(7518),D=t.n($);w.render=m;const B=w;D()(w,"components",{QPageSticky:g.Z,QTabs:f.Z,QTab:y.Z,QSeparator:x.Z,QTabPanels:q.Z,QTabPanel:_.Z,QSpinnerBars:W.Z,QList:Z.Z,QItem:v.Z,QItemSection:C.Z,QItemLabel:P.Z,QIcon:L.Z,QBtn:Q.Z})}}]);