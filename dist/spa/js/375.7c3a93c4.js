"use strict";(self["webpackChunkhandbook_app"]=self["webpackChunkhandbook_app"]||[]).push([[375],{6523:(e,t,a)=>{a.d(t,{Z:()=>W});var i=a(5474);const s=(e,{data:t})=>{e(t)},o=(e,t)=>{t(e)},n=e=>new Promise(((t,a)=>{i.axios.request({url:"/api/sections",data:e,method:"post"}).then((e=>{s(t,e)})).catch((e=>{o(e.response.data,a)}))})),l=(e,t)=>{t(e)},d=(e,t)=>{t(e)},r=(e,t)=>new Promise(((a,s)=>{i.axios.request({url:`/api/sections/${e}`,data:t,method:"put"}).then((e=>{l(e.data,a)})).catch((e=>{d(e.response.data,s)}))}));var c=a(8427),p=a(5314),h=a(3305);const u=({data:e},t,a)=>{const i=e,s=p.Z.fetch(e.pagination);c["default"].dispatch("fetchSections",{sections:i,pagination:s}),a({sections:i,pagination:s})},m=(e,t)=>t(e),w=(e={})=>new Promise(((t,a)=>{i.axios.get(h.Z.buildUrl("/api/sections",e)).then((a=>{u(a,e,t)})).catch((e=>{m(e,a)}))})),f=({data:e},t)=>{c["default"].dispatch("fetchAllSections",e),t(e)},g=(e,t)=>t(e),b=(e=null)=>new Promise(((t,a)=>{i.axios.get(null===e?"/api/sections":`/api/sections?chapter_id=${e}`).then((e=>{f(e,t)})).catch((e=>{g(e,a)}))})),_=(e,t)=>{t(e)},k=(e,t)=>{t(e)},q=e=>new Promise(((t,a)=>{i.axios.get(`/api/sections/${e}`).then((e=>{_(e.data,t)})).catch((e=>{k(e.response.data,a)}))})),x=({data:e},t)=>{c["default"].dispatch("fetchSearchResults",e),t(e)},y=(e,t)=>t(e),Z=(e="")=>new Promise(((t,a)=>{i.axios.get(`/api/sections?search=${e}`).then((e=>{x(e,t)})).catch((e=>{y(e,a)}))})),$=(e,t,a)=>{b(a),t(e)},C=(e,t)=>{t(e)},v=(e,t)=>new Promise(((a,s)=>{i.axios["delete"](`/api/sections/${e}`).then((e=>{$(e.data,a,t)})).catch((e=>{C(e.response.data,s)}))})),W={store:n,update:r,items:w,all:b,show:q,search:Z,destroy:v}},2375:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Q});var i=a(3673),s=a(2323),o=a(8880);const n={class:"q-pa-md q-gutter-md"},l={key:0,class:"text-h5 q-mb-md",style:{"padding-top":"48px"}},d={class:"q-gutter-sm"},r=(0,i.Uk)(" Edit "),c=(0,i.Uk)(" Delete ");function p(e,t,a,p,h,u){const m=(0,i.up)("q-breadcrumbs-el"),w=(0,i.up)("q-breadcrumbs"),f=(0,i.up)("q-page-sticky"),g=(0,i.up)("q-btn"),b=(0,i.up)("q-item-label"),_=(0,i.up)("q-item-section"),k=(0,i.up)("q-tooltip"),q=(0,i.up)("q-item"),x=(0,i.up)("q-list"),y=(0,i.Q2)("ripple");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i.Wm)(f,{expand:"",position:"top-left",class:"full-width",style:{"z-index":"1"}},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{class:"text-grey bg-white full-width q-px-lg q-py-sm text-body1"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{to:"/admin/chapters",icon:"keyboard_arrow_left",label:"All Chapters"}),e.currentChapter?((0,i.wg)(),(0,i.j4)(m,{key:0,icon:"local_library",label:`${e.currentChapter.title} Sections`},null,8,["label"])):(0,i.kq)("",!0)])),_:1})])),_:1}),e.currentChapter?((0,i.wg)(),(0,i.iD)("div",l,(0,s.zw)(e.currentChapter.title),1)):(0,i.kq)("",!0),(0,i.Wm)(g,{to:`/admin/chapters/${e.$route.params.chapter_id}/sections/create`,color:"primary",icon:"add",label:"Create Section"},null,8,["to"]),(0,i.Wm)(x,{padding:""},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.sections,(t=>(0,i.wy)(((0,i.wg)(),(0,i.j4)(q,{key:t.id},{default:(0,i.w5)((()=>[(0,i.Wm)(_,null,{default:(0,i.w5)((()=>[(0,i.Wm)(b,{lines:"1"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(t.title),1)])),_:2},1024)])),_:2},1024),(0,i.Wm)(_,{side:""},{default:(0,i.w5)((()=>[(0,i._)("div",d,[(0,i.Wm)(g,{flat:"",round:"",size:"12px",icon:"edit",to:`/admin/chapters/${e.$route.params.chapter_id}/sections/${t.id}/edit`},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{anchor:"top middle",self:"bottom middle"},{default:(0,i.w5)((()=>[r])),_:1})])),_:2},1032,["to"]),(0,i.Wm)(g,{flat:"",round:"",size:"12px",icon:"delete",onClick:(0,o.iM)((a=>e.remove(t)),["prevent"])},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{anchor:"top middle",self:"bottom middle"},{default:(0,i.w5)((()=>[c])),_:1})])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1536)),[[y]]))),128))])),_:1})])}var h=a(515),u=a.n(h),m=a(7874),w=a(6523);const f=(0,i.aZ)({name:"AdminSectionIndex",data(){return{title:""}},computed:u()(u()({},(0,m.Se)({chapters:"allChapters",sections:"allSections"})),{},{currentChapter(){return this.chapters.find((e=>+e.id===+this.$route.params.chapter_id))}}),mounted(){w.Z.all(this.$route.params.chapter_id).then((e=>{this.loading=!1})).catch((e=>{this.loading=!1}))},methods:{onReset(){},remove(e){this.$q.dialog({title:"Confirm",message:"Are you sure to delete this section?",cancel:!0,persistent:!0}).onOk((()=>{w.Z.destroy(e.id,e.chapter_id).then((e=>{this.loading=!1})).catch((e=>{this.loading=!1}))}))}}});var g=a(1007),b=a(1481),_=a(5926),k=a(2165),q=a(7011),x=a(3414),y=a(2035),Z=a(2350),$=a(8870),C=a(6489),v=a(7518),W=a.n(v);f.render=p;const Q=f;W()(f,"components",{QPageSticky:g.Z,QBreadcrumbs:b.Z,QBreadcrumbsEl:_.Z,QBtn:k.Z,QList:q.Z,QItem:x.Z,QItemSection:y.Z,QItemLabel:Z.Z,QTooltip:$.Z}),W()(f,"directives",{Ripple:C.Z})}}]);