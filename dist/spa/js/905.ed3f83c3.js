"use strict";(self["webpackChunkhandbook_app"]=self["webpackChunkhandbook_app"]||[]).push([[905],{2577:(t,e,a)=>{a.d(e,{Z:()=>q});var s=a(5474);const i=(t,{data:e})=>{t(e)},n=(t,e)=>{e(t)},o=t=>new Promise(((e,a)=>{s.axios.request({url:"/api/chapters",data:t,method:"post"}).then((t=>{i(e,t)})).catch((t=>{n(t.response.data,a)}))})),r=(t,e)=>{e(t)},c=(t,e)=>{e(t)},l=(t,e)=>new Promise(((a,i)=>{s.axios.request({url:`/api/chapters/${t}`,data:e,method:"put"}).then((t=>{r(t.data,a)})).catch((t=>{c(t.response.data,i)}))}));var h=a(8938),p=a(5314),d=a(3305);const u=({data:t},e,a)=>{const s=t,i=p.Z.fetch(t.pagination);h["default"].dispatch("fetchChapters",{chapters:s,pagination:i}),a({chapters:s,pagination:i})},m=(t,e)=>e(t),g=(t={})=>new Promise(((e,a)=>{s.axios.get(d.Z.buildUrl("/api/chapters",t)).then((a=>{u(a,t,e)})).catch((t=>{m(t,a)}))})),f=({data:t},e)=>{h["default"].dispatch("fetchAllChapters",t),e(t)},b=(t,e)=>e(t),w=(t=null)=>new Promise(((e,a)=>{s.axios.get(null===t?"/api/chapters":`/api/chapters?search=${t}`).then((t=>{f(t,e)})).catch((t=>{b(t,a)}))})),$=(t,e)=>{e(t)},C=(t,e)=>{e(t)},x=t=>new Promise(((e,a)=>{s.axios.get(`/api/chapters/${t}`).then((t=>{$(t.data,e)})).catch((t=>{C(t.response.data,a)}))})),P=(t,e)=>{w(),e(t)},Z=(t,e)=>{e(t)},_=t=>new Promise(((e,a)=>{s.axios["delete"](`/api/chapters/${t}`).then((t=>{P(t.data,e)})).catch((t=>{Z(t.response.data,a)}))})),q={store:o,update:l,items:g,all:w,show:x,destroy:_}},6523:(t,e,a)=>{a.d(e,{Z:()=>y});var s=a(5474);const i=(t,{data:e})=>{t(e)},n=(t,e)=>{e(t)},o=t=>new Promise(((e,a)=>{s.axios.request({url:"/api/sections",data:t,method:"post"}).then((t=>{i(e,t)})).catch((t=>{n(t.response.data,a)}))})),r=(t,e)=>{e(t)},c=(t,e)=>{e(t)},l=(t,e)=>new Promise(((a,i)=>{s.axios.request({url:`/api/sections/${t}`,data:e,method:"put"}).then((t=>{r(t.data,a)})).catch((t=>{c(t.response.data,i)}))}));var h=a(8938),p=a(5314),d=a(3305);const u=({data:t},e,a)=>{const s=t,i=p.Z.fetch(t.pagination);h["default"].dispatch("fetchSections",{sections:s,pagination:i}),a({sections:s,pagination:i})},m=(t,e)=>e(t),g=(t={})=>new Promise(((e,a)=>{s.axios.get(d.Z.buildUrl("/api/sections",t)).then((a=>{u(a,t,e)})).catch((t=>{m(t,a)}))})),f=({data:t},e)=>{h["default"].dispatch("fetchAllSections",t),e(t)},b=(t,e)=>e(t),w=(t=null)=>new Promise(((e,a)=>{s.axios.get(null===t?"/api/sections":`/api/sections?chapter_id=${t}`).then((t=>{f(t,e)})).catch((t=>{b(t,a)}))})),$=(t,e)=>{e(t)},C=(t,e)=>{e(t)},x=t=>new Promise(((e,a)=>{s.axios.get(`/api/sections/${t}`).then((t=>{$(t.data,e)})).catch((t=>{C(t.response.data,a)}))})),P=({data:t},e)=>{h["default"].dispatch("fetchSearchResults",t),e(t)},Z=(t,e)=>e(t),_=(t="")=>new Promise(((e,a)=>{s.axios.get(`/api/sections?search=${t}`).then((t=>{P(t,e)})).catch((t=>{Z(t,a)}))})),q=(t,e,a)=>{w(a),e(t)},v=(t,e)=>{e(t)},S=(t,e)=>new Promise(((a,i)=>{s.axios["delete"](`/api/sections/${t}`).then((t=>{q(t.data,a,e)})).catch((t=>{v(t.response.data,i)}))})),y={store:o,update:l,items:g,all:w,show:x,search:_,destroy:S}},5314:(t,e,a)=>{a.d(e,{Z:()=>i});class s{static fetchCollection(t){return t.map((t=>this.fetch(t)))}static sendCollection(t){return t.map((t=>this.send(t)))}}class i extends s{static fetch(t){return{currentPage:t.current_page,lastPage:t.last_page,limit:t.limit,totalCount:t.total_count,counters:t.counters}}static send(t){return{current_page:t.currentPage,last_page:t.lastPage,limit:t.limit,total_count:t.totalCount}}}},3305:(t,e,a)=>{a.d(e,{Z:()=>s});const s={buildUrl(t,e){let a="?";const s=Object.keys(e).filter((t=>e[t]));return s.forEach(((t,i)=>{a+=`${t}=${e[t]}`,i<s.length-1&&(a+="&")})),`${t}${a}`},debounce(t,e){var a=null;return function(){clearTimeout(a);var s=arguments,i=this;a=setTimeout((function(){t.apply(i,s)}),e)}}}},8905:(t,e,a)=>{a.r(e),a.d(e,{default:()=>C});var s=a(3673),i=a(2323);const n={class:"q-pa-md"},o={class:"text-h5 q-py-md"},r={class:"q-gutter-lg q-pa-lg"};function c(t,e,a,c,l,h){const p=(0,s.up)("q-select"),d=(0,s.up)("q-input"),u=(0,s.up)("q-editor"),m=(0,s.up)("q-btn"),g=(0,s.up)("q-form");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",o,(0,i.zw)(t.id?"Update":"Create")+" Section",1),(0,s.Wm)(g,{onSubmit:t.onSubmit,onReset:t.onReset,class:"q-gutter-md",style:{"max-width":"800px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{filled:"","map-options":"",modelValue:t.chapter,"onUpdate:modelValue":e[0]||(e[0]=e=>t.chapter=e),options:t.chapterOptions,label:"Chapter"},null,8,["modelValue","options"]),(0,s.Wm)(d,{filled:"",modelValue:t.title,"onUpdate:modelValue":e[1]||(e[1]=e=>t.title=e),label:"Title"},null,8,["modelValue"]),(0,s.Wm)(u,{modelValue:t.content,"onUpdate:modelValue":e[2]||(e[2]=e=>t.content=e),filled:"",label:"Content *","lazy-rules":"",rules:[t=>t&&t.length>0||"Content is required"]},null,8,["modelValue","rules"]),(0,s._)("div",r,[(0,s.Wm)(m,{label:"Submit",type:"submit",color:"primary"}),(0,s.Wm)(m,{label:"Back",type:"submit",to:`/admin/chapters/${t.$route.params.chapter_id}/sections`},null,8,["to"])])])),_:1},8,["onSubmit","onReset"])])}var l=a(2577),h=a(6523),p=a(7874);const d=(0,s.aZ)({name:"AdminSectionForm",data(){return{id:"",title:"",content:"",chapter:""}},computed:{...(0,p.Se)({chapters:"allChapters",sections:"allSections"}),chapterOptions(){return this.chapters.map((t=>({label:t.title,value:t.id})))}},mounted(){this.chapters.length?this.setCurrentChapter():l.Z.all().then((t=>{this.loading=!1,this.setCurrentChapter()})).catch((t=>{this.loading=!1})),this.$route.params.id&&h.Z.show(this.$route.params.id).then((t=>{this.id=t.id,this.title=t.title,this.content=t.content,this.loading=!1})).catch((t=>{this.loading=!1}))},methods:{onSubmit(){h.Z.store({title:this.title,content:this.content,chapter_id:this.chapter.value}).then((t=>{this.loading=!1,this.$router.push(`/admin/chapters/${this.$route.params.chapter_id}/sections`)})).catch((t=>{this.loading=!1}))},setCurrentChapter(){this.chapter=this.chapterOptions.find((t=>+t.value===+this.$route.params.chapter_id))},onReset(){}},watch:{chapters(t){}}});var u=a(5269),m=a(7236),g=a(4842),f=a(9991),b=a(2165),w=a(7518),$=a.n(w);d.render=c;const C=d;$()(d,"components",{QForm:u.Z,QSelect:m.Z,QInput:g.Z,QEditor:f.Z,QBtn:b.Z})}}]);