"use strict";(self["webpackChunkhandbook_app"]=self["webpackChunkhandbook_app"]||[]).push([[676],{6952:(t,e,a)=>{a.d(e,{Z:()=>m});var s=a(5474);const c=(t,e)=>{e(t)},o=(t,e)=>{e(t)},i=(t,e)=>new Promise(((a,i)=>{s.axios.post(`/api/bookmarks/${t}`,{bookmark:e}).then((t=>{c(t.data,a)})).catch((t=>{o(t.response.data,i)}))}));var n=a(8938);const r=({data:t},e)=>{n["default"].dispatch("fetchAllBookmarks",t),e(t)},l=(t,e)=>e(t),h=()=>new Promise(((t,e)=>{s.axios.get("/api/bookmarks").then((e=>{r(e,t)})).catch((t=>{l(t,e)}))})),p=(t,e)=>{h(),e(t)},d=(t,e)=>{e(t)},u=t=>new Promise(((e,a)=>{s.axios["delete"](`/api/bookmarks/${t}`).then((t=>{p(t.data,e)})).catch((t=>{d(t.response.data,a)}))})),m={all:h,bookmark:i,destroy:u}},2577:(t,e,a)=>{a.d(e,{Z:()=>Z});var s=a(5474);const c=(t,{data:e})=>{t(e)},o=(t,e)=>{e(t)},i=t=>new Promise(((e,a)=>{s.axios.request({url:"/api/chapters",data:t,method:"post"}).then((t=>{c(e,t)})).catch((t=>{o(t.response.data,a)}))})),n=(t,e)=>{e(t)},r=(t,e)=>{e(t)},l=(t,e)=>new Promise(((a,c)=>{s.axios.request({url:`/api/chapters/${t}`,data:e,method:"put"}).then((t=>{n(t.data,a)})).catch((t=>{r(t.response.data,c)}))}));var h=a(8938),p=a(5314),d=a(3305);const u=({data:t},e,a)=>{const s=t,c=p.Z.fetch(t.pagination);h["default"].dispatch("fetchChapters",{chapters:s,pagination:c}),a({chapters:s,pagination:c})},m=(t,e)=>e(t),g=(t={})=>new Promise(((e,a)=>{s.axios.get(d.Z.buildUrl("/api/chapters",t)).then((a=>{u(a,t,e)})).catch((t=>{m(t,a)}))})),f=({data:t},e)=>{h["default"].dispatch("fetchAllChapters",t),e(t)},w=(t,e)=>e(t),b=(t=null)=>new Promise(((e,a)=>{s.axios.get(null===t?"/api/chapters":`/api/chapters?search=${t}`).then((t=>{f(t,e)})).catch((t=>{w(t,a)}))})),x=(t,e)=>{e(t)},k=(t,e)=>{e(t)},$=t=>new Promise(((e,a)=>{s.axios.get(`/api/chapters/${t}`).then((t=>{x(t.data,e)})).catch((t=>{k(t.response.data,a)}))})),_=(t,e)=>{b(),e(t)},q=(t,e)=>{e(t)},P=t=>new Promise(((e,a)=>{s.axios["delete"](`/api/chapters/${t}`).then((t=>{_(t.data,e)})).catch((t=>{q(t.response.data,a)}))})),Z={store:i,update:l,items:g,all:b,show:$,destroy:P}},6523:(t,e,a)=>{a.d(e,{Z:()=>C});var s=a(5474);const c=(t,{data:e})=>{t(e)},o=(t,e)=>{e(t)},i=t=>new Promise(((e,a)=>{s.axios.request({url:"/api/sections",data:t,method:"post"}).then((t=>{c(e,t)})).catch((t=>{o(t.response.data,a)}))})),n=(t,e)=>{e(t)},r=(t,e)=>{e(t)},l=(t,e)=>new Promise(((a,c)=>{s.axios.request({url:`/api/sections/${t}`,data:e,method:"put"}).then((t=>{n(t.data,a)})).catch((t=>{r(t.response.data,c)}))}));var h=a(8938),p=a(5314),d=a(3305);const u=({data:t},e,a)=>{const s=t,c=p.Z.fetch(t.pagination);h["default"].dispatch("fetchSections",{sections:s,pagination:c}),a({sections:s,pagination:c})},m=(t,e)=>e(t),g=(t={})=>new Promise(((e,a)=>{s.axios.get(d.Z.buildUrl("/api/sections",t)).then((a=>{u(a,t,e)})).catch((t=>{m(t,a)}))})),f=({data:t},e)=>{h["default"].dispatch("fetchAllSections",t),e(t)},w=(t,e)=>e(t),b=(t=null)=>new Promise(((e,a)=>{s.axios.get(null===t?"/api/sections":`/api/sections?chapter_id=${t}`).then((t=>{f(t,e)})).catch((t=>{w(t,a)}))})),x=(t,e)=>{e(t)},k=(t,e)=>{e(t)},$=t=>new Promise(((e,a)=>{s.axios.get(`/api/sections/${t}`).then((t=>{x(t.data,e)})).catch((t=>{k(t.response.data,a)}))})),_=({data:t},e)=>{h["default"].dispatch("fetchSearchResults",t),e(t)},q=(t,e)=>e(t),P=(t="")=>new Promise(((e,a)=>{s.axios.get(`/api/sections?search=${t}`).then((t=>{_(t,e)})).catch((t=>{q(t,a)}))})),Z=(t,e,a)=>{b(a),e(t)},y=(t,e)=>{e(t)},T=(t,e)=>new Promise(((a,c)=>{s.axios["delete"](`/api/sections/${t}`).then((t=>{Z(t.data,a,e)})).catch((t=>{y(t.response.data,c)}))})),C={store:i,update:l,items:g,all:b,show:$,search:P,destroy:T}},5314:(t,e,a)=>{a.d(e,{Z:()=>c});class s{static fetchCollection(t){return t.map((t=>this.fetch(t)))}static sendCollection(t){return t.map((t=>this.send(t)))}}class c extends s{static fetch(t){return{currentPage:t.current_page,lastPage:t.last_page,limit:t.limit,totalCount:t.total_count,counters:t.counters}}static send(t){return{current_page:t.currentPage,last_page:t.lastPage,limit:t.limit,total_count:t.totalCount}}}},3305:(t,e,a)=>{a.d(e,{Z:()=>s});const s={buildUrl(t,e){let a="?";const s=Object.keys(e).filter((t=>e[t]));return s.forEach(((t,c)=>{a+=`${t}=${e[t]}`,c<s.length-1&&(a+="&")})),`${t}${a}`},debounce(t,e){var a=null;return function(){clearTimeout(a);var s=arguments,c=this;a=setTimeout((function(){t.apply(c,s)}),e)}}}},6676:(t,e,a)=>{a.r(e),a.d(e,{default:()=>P});var s=a(3673),c=a(2323);const o={class:"q-pa-md"},i={class:"q-pt-lg"},n=(0,s.Uk)(" Search the entire handbook "),r={key:1,class:"text-body2 text-center q-pa-lg text-grey-6"};function l(t,e,a,l,h,p){const d=(0,s.up)("q-breadcrumbs-el"),u=(0,s.up)("q-breadcrumbs"),m=(0,s.up)("q-page-sticky"),g=(0,s.up)("q-icon"),f=(0,s.up)("q-input"),w=(0,s.up)("q-item-label"),b=(0,s.up)("q-item-section"),x=(0,s.up)("q-item"),k=(0,s.up)("q-list");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(m,{expand:"",position:"top-left",class:"full-width",style:{"z-index":"1"}},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"text-grey bg-white full-width q-px-lg q-py-sm text-body1"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{to:"/",icon:"menu_book",label:"My Handbook"}),(0,s.Wm)(d,{icon:"local_library",label:"Search"})])),_:1})])),_:1}),(0,s._)("div",i,[(0,s.Wm)(f,{"bottom-slots":"",filled:"",debounce:"800",modelValue:t.searchText,"onUpdate:modelValue":e[0]||(e[0]=e=>t.searchText=e),ref:"searchInput",dense:"",class:"q-pa-sm q-mb-lg"},{append:(0,s.w5)((()=>[""!==t.searchText?((0,s.wg)(),(0,s.j4)(g,{key:0,name:"close",onClick:t.clearSearch,class:"cursor-pointer"},null,8,["onClick"])):(0,s.kq)("",!0),(0,s.Wm)(g,{name:"search"})])),hint:(0,s.w5)((()=>[n])),_:1},8,["modelValue"]),t.sections.length?((0,s.wg)(),(0,s.j4)(k,{key:0,class:"q-pa-xs",separator:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.sections,(e=>((0,s.wg)(),(0,s.j4)(x,{to:`/article/${e.chapter_id}#section-${e.id}`,key:e.id},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{to:""},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"text-subtitle1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(t.titleCase(e.title)),1)])),_:2},1024),(0,s.Wm)(w,{caption:"",lines:"2"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(t.stripTags(e.content)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["to"])))),128))])),_:1})):((0,s.wg)(),(0,s.iD)("div",r," No Results "))])])}a(5363);var h=a(7874),p=a(6523);a(2577),a(6952),a(8938);const d=(0,s.aZ)({name:"Search",data(){return{}},computed:{...(0,h.Se)({sections:"searchResults"}),searchText:{get(){return this.$store.state.section.searchText},set(t){this.$store.commit("SET_SEARCH_TEXT",t)}}},mounted(){this.$refs.searchInput.focus(),this.searchText||this.$store.dispatch("resetSections")},methods:{titleCase(t){return t.split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})).join(" ")},stripTags(t){return t.replace(/<\/?[^>]+(>|$)/g,"").replace(/\&nbsp;/g,"")},clearSearch(){this.searchText="",this.$refs.searchInput.focus()}},watch:{searchText(){this.searchText?p.Z.search(this.searchText).then((t=>{this.loading=!1})).catch((t=>{this.loading=!1})):this.$store.dispatch("resetSections")}}});var u=a(1007),m=a(1481),g=a(5926),f=a(4842),w=a(4554),b=a(7011),x=a(3414),k=a(2035),$=a(2350),_=a(7518),q=a.n(_);d.render=l;const P=d;q()(d,"components",{QPageSticky:u.Z,QBreadcrumbs:m.Z,QBreadcrumbsEl:g.Z,QInput:f.Z,QIcon:w.Z,QList:b.Z,QItem:x.Z,QItemSection:k.Z,QItemLabel:$.Z})}}]);