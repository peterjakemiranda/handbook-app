"use strict";(self["webpackChunkhandbook_app"]=self["webpackChunkhandbook_app"]||[]).push([[730],{9730:(e,t,a)=>{a.r(t),a.d(t,{default:()=>V});var s=a(3673),l=a(2323);const d={class:"q-pa-md"},i={class:"q-pa-md",style:{"max-width":"400px"}},n={class:"text-h5 text-bold q-my-md q-pb-lg"},o={class:"text-center q-px-lg"};function m(e,t,a,m,u,r){const h=(0,s.up)("q-input"),p=(0,s.up)("q-btn"),c=(0,s.up)("q-form");return(0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",i,[(0,s._)("h5",n,(0,l.zw)(e.id?"Update":"Create")+" Admin User",1),(0,s.Wm)(c,{onSubmit:e.onSubmit,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{filled:"",modelValue:e.student_id,"onUpdate:modelValue":t[0]||(t[0]=t=>e.student_id=t),label:"Username *"},null,8,["modelValue"]),(0,s.Wm)(h,{filled:"",modelValue:e.first_name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.first_name=t),label:"First name *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,s.Wm)(h,{filled:"",modelValue:e.last_name,"onUpdate:modelValue":t[2]||(t[2]=t=>e.last_name=t),label:"Last name *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,s.Wm)(h,{filled:"",modelValue:e.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.password=t),label:"Password"},null,8,["modelValue"]),(0,s._)("div",o,[(0,s.Wm)(p,{label:e.id?"Update":"Create",type:"submit",color:"primary"},null,8,["label"])])])),_:1},8,["onSubmit"])])])}var u=a(515),r=a.n(u),h=a(7874),p=a(5395);const c=(0,s.aZ)({name:"Account",data(){return{id:"",student_id:"",first_name:"",last_name:"",password:"",password_confirmation:""}},computed:r()({},(0,h.Se)({})),created(){this.$route.params.id&&p.Z.show(this.$route.params.id).then((e=>{this.id=e.id,this.student_id=e.student_id,this.first_name=e.first_name,this.last_name=e.last_name,this.loading=!1})).catch((e=>{this.loading=!1}))},methods:{onSubmit(){p.Z.update({student_id:this.student_id,first_name:this.first_name,last_name:this.last_name,password:this.password,password_confirmation:this.password_confirmation},this.id).then((()=>{this.$q.dialog({title:"Success!",message:"Account has been successfully "+(this.id?"updated":"created")}),this.loading=!1,this.$router.push("/admin/users")})).catch((e=>{this.$q.dialog({title:"Error!",message:"Failed to "+(this.id?"update":"create")+" account! Please try again later."}),this.loading=!1}))}},watch:{account:{immediate:!0,handler(e){e&&(this.student_id=e.student_id,this.first_name=e.first_name,this.last_name=e.last_name)}}}});var _=a(5269),f=a(4842),b=a(2165),g=a(7518),w=a.n(g);c.render=m;const V=c;w()(c,"components",{QForm:_.Z,QInput:f.Z,QBtn:b.Z})}}]);