"use strict";(self["webpackChunkhandbook_app"]=self["webpackChunkhandbook_app"]||[]).push([[537],{7728:(e,t,a)=>{a.d(t,{Z:()=>v});var s=a(5474);const i=(e,{data:t})=>{e(t)},o=(e,t)=>{t(e)},n=e=>new Promise(((t,a)=>{s.axios.request({url:"/api/questions",data:e,method:"post"}).then((e=>{i(t,e)})).catch((e=>{o(e.response.data,a)}))})),l=(e,t)=>{t(e)},d=(e,t)=>{t(e)},r=(e,t)=>new Promise(((a,i)=>{s.axios.request({url:`/api/questions/${e}`,data:t,method:"put"}).then((e=>{l(e.data,a)})).catch((e=>{d(e.response.data,i)}))}));var u=a(8427),c=a(5314),p=a(3305);const h=({data:e},t,a)=>{const s=e,i=c.Z.fetch(e.pagination);u["default"].dispatch("fetchQuestions",{questions:s,pagination:i}),a({questions:s,pagination:i})},m=(e,t)=>t(e),q=(e={})=>new Promise(((t,a)=>{s.axios.get(p.Z.buildUrl("/api/questions",e)).then((a=>{h(a,e,t)})).catch((e=>{m(e,a)}))})),w=({data:e},t)=>{u["default"].dispatch("fetchAllQuestions",e),t(e)},f=(e,t)=>t(e),g=(e=null)=>new Promise(((t,a)=>{s.axios.get(null===e?"/api/questions":`/api/questions?chapter_id=${e}`).then((e=>{w(e,t)})).catch((e=>{f(e,a)}))})),b=(e,t)=>{t(e)},_=(e,t)=>{t(e)},k=e=>new Promise(((t,a)=>{s.axios.get(`/api/questions/${e}`).then((e=>{b(e.data,t)})).catch((e=>{_(e.response.data,a)}))})),x=({data:e},t)=>{u["default"].dispatch("fetchSearchResults",e),t(e)},y=(e,t)=>t(e),Q=(e="")=>new Promise(((t,a)=>{s.axios.get(`/api/questions?search=${e}`).then((e=>{x(e,t)})).catch((e=>{y(e,a)}))})),Z=(e,t,a)=>{g(a),t(e)},$=(e,t)=>{t(e)},C=(e,t)=>new Promise(((a,i)=>{s.axios["delete"](`/api/questions/${e}`).then((e=>{Z(e.data,a,t)})).catch((e=>{$(e.response.data,i)}))})),v={store:n,update:r,items:q,all:g,show:k,search:Q,destroy:C}},4537:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var s=a(3673),i=a(2323),o=a(8880);const n={class:"q-pa-md q-gutter-md"},l={key:0,class:"text-h5 q-mb-md",style:{"padding-top":"48px"}},d={class:"q-gutter-sm"},r=(0,s.Uk)(" Edit "),u=(0,s.Uk)(" Delete ");function c(e,t,a,c,p,h){const m=(0,s.up)("q-breadcrumbs-el"),q=(0,s.up)("q-breadcrumbs"),w=(0,s.up)("q-page-sticky"),f=(0,s.up)("q-btn"),g=(0,s.up)("q-item-label"),b=(0,s.up)("q-item-section"),_=(0,s.up)("q-tooltip"),k=(0,s.up)("q-item"),x=(0,s.up)("q-list"),y=(0,s.Q2)("ripple");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(w,{expand:"",position:"top-left",class:"full-width",style:{"z-index":"1"}},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{class:"text-grey bg-white full-width q-px-lg q-py-sm text-body1"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{to:"/admin/chapters",icon:"keyboard_arrow_left",label:"All Chapters"}),e.currentChapter?((0,s.wg)(),(0,s.j4)(m,{key:0,icon:"local_library",label:`${e.currentChapter.title} Questions`},null,8,["label"])):(0,s.kq)("",!0)])),_:1})])),_:1}),e.currentChapter?((0,s.wg)(),(0,s.iD)("div",l,(0,i.zw)(e.currentChapter.title),1)):(0,s.kq)("",!0),(0,s.Wm)(f,{to:`/admin/chapters/${e.$route.params.chapter_id}/questions/create`,color:"primary",icon:"add",label:"Create Question"},null,8,["to"]),(0,s.Wm)(x,{padding:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.questions,(t=>(0,s.wy)(((0,s.wg)(),(0,s.j4)(k,{key:t.id,class:"full-width"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(t.question),1)])),_:2},1024)])),_:2},1024),(0,s.Wm)(b,{side:""},{default:(0,s.w5)((()=>[(0,s._)("div",d,[(0,s.Wm)(f,{flat:"",round:"",size:"12px",icon:"edit",to:`/admin/chapters/${e.$route.params.chapter_id}/questions/${t.id}/edit`},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{anchor:"top middle",self:"bottom middle"},{default:(0,s.w5)((()=>[r])),_:1})])),_:2},1032,["to"]),(0,s.Wm)(f,{flat:"",round:"",size:"12px",icon:"delete",onClick:(0,o.iM)((a=>e.remove(t)),["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{anchor:"top middle",self:"bottom middle"},{default:(0,s.w5)((()=>[u])),_:1})])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1536)),[[y]]))),128))])),_:1})])}var p=a(515),h=a.n(p),m=a(7874),q=a(7728);const w=(0,s.aZ)({name:"AdminQuestionIndex",data(){return{title:""}},computed:h()(h()({},(0,m.Se)({chapters:"allChapters",questions:"allQuestions"})),{},{currentChapter(){return this.chapters.find((e=>+e.id===+this.$route.params.chapter_id))}}),mounted(){q.Z.all(this.$route.params.chapter_id).then((e=>{this.loading=!1})).catch((e=>{this.loading=!1}))},methods:{onReset(){},remove(e){this.$q.dialog({title:"Confirm",message:"Are you sure to delete this question?",cancel:!0,persistent:!0}).onOk((()=>{q.Z.destroy(e.id,e.chapter_id).then((e=>{this.loading=!1})).catch((e=>{this.loading=!1}))}))}}});var f=a(1007),g=a(1481),b=a(5926),_=a(2165),k=a(7011),x=a(3414),y=a(2035),Q=a(2350),Z=a(8870),$=a(6489),C=a(7518),v=a.n(C);w.render=c;const W=w;v()(w,"components",{QPageSticky:f.Z,QBreadcrumbs:g.Z,QBreadcrumbsEl:b.Z,QBtn:_.Z,QList:k.Z,QItem:x.Z,QItemSection:y.Z,QItemLabel:Q.Z,QTooltip:Z.Z}),v()(w,"directives",{Ripple:$.Z})}}]);